<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–¶–∏–∫–ª—ã –≤ JavaScript ‚Äî –ø—Ä–∞–∫—Ç–∏–∫–∞</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      overflow-x: hidden;
      background: #000;
      color: #fff;
      padding-top: 80px;
    }

    /* Vanta background */
    #vanta-background {
      position: fixed;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      z-index: 1;
    }

    #app {
      position: relative;
      z-index: 2;
      min-height: calc(100vh - 80px);
      padding: 20px 10px;
    }

    /* Top nav */
    .main-nav {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(10px);
      padding: 10px 20px;
      border-radius: 50px;
      z-index: 9999;
      border: 2px solid rgba(0, 229, 255, 0.5);
      display: flex;
      gap: 15px;
      box-shadow: 0 5px 20px rgba(0, 229, 255, 0.3);
      width: max-content;
    }

    .nav-btn {
      background: transparent;
      color: #fff;
      border: none;
      padding: 8px 15px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 1em;
      transition: all 0.25s;
      font-weight: bold;
      white-space: nowrap;
    }

    .nav-btn:hover { color: #ff00ff; }

    .nav-btn.active-btn {
      background: linear-gradient(135deg, #ff00ff 0%, #00e5ff 100%);
      color: white;
      box-shadow: 0 2px 10px rgba(255, 0, 255, 0.4);
    }

    .container { max-width: 900px; margin: 0 auto; }

    .section {
      background: rgba(10, 10, 20, 0.7);
      backdrop-filter: blur(15px);
      border-radius: 25px;
      padding: 30px;
      margin-bottom: 30px;
      border: 2px solid rgba(255, 20, 147, 0.3);
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
    }

    h1, h2, h3 { margin-bottom: 15px; }

    h1 {
      font-size: 2.8em;
      text-align: center;
      background: linear-gradient(135deg, #ff00ff 0%, #00e5ff 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    h2 { color: #ff69b4; font-size: 2em; }
    h3 { color: #00e5ff; font-size: 1.35em; }

    p, li {
      font-size: 1.12em;
      line-height: 1.6;
      color: #e0e7ff;
      margin-bottom: 10px;
    }

        .code-block {
      background: rgba(20, 20, 30, 0.8);
      border-left: 4px solid #ff69b4;
      padding: 15px;
      margin: 10px 0;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      color: #ffd700;
      font-size: 1em;

      /* fixes: keep code inside —Ä–∞–º–∫–∏ –Ω–∞ –ª—é–±—ã—Ö —ç–∫—Ä–∞–Ω–∞—Ö */
      max-width: 100%;
      overflow-x: auto;
      white-space: pre-wrap;
      overflow-wrap: anywhere;
      word-break: break-word;
    }

    /* Fixed: readable 'example' block */
    .no-copy {
      user-select: none;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      background: rgba(0,0,0,0.40);
      border: 1px dashed rgba(255, 68, 68, 0.9);
      color: rgba(255,255,255,0.92);
      font-size: 0.95em;
      line-height: 1.55;
      text-shadow: 0 1px 0 rgba(0,0,0,0.7);
      position: relative;
      display: block;
      padding-top: 24px; /* –º–µ—Å—Ç–æ –ø–æ–¥ –ø–ª–∞—à–∫—É "–ü—Ä–∏–º–µ—Ä" */
    }

    .no-copy::after {
      content: "üëÅÔ∏è –ü—Ä–∏–º–µ—Ä (–Ω–µ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è)";
      position: absolute;
      top: -10px;
      right: 10px;
      background: rgba(80,0,0,0.95);
      padding: 2px 8px;
      font-size: 0.72em;
      border-radius: 4px;
      color: #fff;
    }

    /* Practice grid */
    .practice-layout {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      align-items: start;
    }

    @media (max-width: 700px) {
      .practice-layout { grid-template-columns: 1fr; }
      .main-nav { width: 92vw; justify-content: space-between; gap: 6px; }
      .nav-btn { padding: 8px 10px; font-size: 0.9em; }
    }

    textarea {
      width: 100%;
      min-height: 150px;
      background: #1a1a2e;
      border: 2px solid #4b0082;
      color: #fff;
      padding: 10px;
      border-radius: 8px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
      font-size: 1.05em;
    }

    .run-btn {
      background: #00e5ff;
      color: #000;
      border: none;
      padding: 10px 16px;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      margin-top: 10px;
      width: 100%;
      transition: 0.2s;
    }

    .run-btn:hover { transform: scale(1.02); box-shadow: 0 0 15px #00e5ff; }

    .output {
      margin-top: 10px;
      padding: 10px;
      border-radius: 8px;
      background: rgba(0, 255, 0, 0.1);
      border: 1px solid #0f0;
      color: #0f0;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
      white-space: pre-wrap;
    }

    .output.bad {
      background: rgba(255, 0, 0, 0.08);
      border-color: #ff4d4d;
      color: #ffd1d1;
    }

    /* Quiz */
    .quiz-question { margin-top: 12px; padding-top: 8px; }

    .quiz-option {
      background: rgba(255, 255, 255, 0.05);
      padding: 12px;
      margin: 8px 0;
      border-radius: 10px;
      cursor: pointer;
      border: 2px solid transparent;
      transition: 0.2s;
    }

    .quiz-option:hover { border-color: #ff00ff; background: rgba(255, 0, 255, 0.1); }
    .quiz-option.correct { background: rgba(0, 255, 0, 0.2); border-color: #0f0; }
    .quiz-option.wrong { background: rgba(255, 0, 0, 0.2); border-color: #f00; }

    .mini-hint {
      margin-top: 8px;
      padding: 10px 12px;
      border-radius: 12px;
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(0,229,255,0.25);
      color: rgba(224,231,255,0.95);
      font-size: 0.98em;
    }

    hr { border: none; border-top: 1px solid rgba(255,255,255,0.12); margin: 18px 0; }

    code { color: #ffd700; }
  </style>
</head>
<body>
  <div id="vanta-background"></div>

  <div id="app">
    <nav class="main-nav">
      <button class="nav-btn" :class="{ 'active-btn': currentSection === 'theory' }" @click="setSection('theory')">üìö –¢–µ–æ—Ä–∏—è</button>
      <button class="nav-btn" :class="{ 'active-btn': currentSection === 'quiz' }" @click="setSection('quiz')">üéØ –¢–µ—Å—Ç</button>
      <button class="nav-btn" :class="{ 'active-btn': currentSection === 'practice' }" @click="setSection('practice')">üíª –ü—Ä–∞–∫—Ç–∏–∫–∞</button>
      <button class="nav-btn" :class="{ 'active-btn': currentSection === 'creative' }" @click="setSection('creative')">üòÑ –°–º–µ—à–Ω–æ–µ</button>
    </nav>

    <div class="container">
      <!-- THEORY -->
      <div class="section" v-if="currentSection === 'theory'">
        <h1>üîÑ –¶–∏–∫–ª—ã: –±—ã—Å—Ç—Ä–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ</h1>
        <p><b>–¶–∏–∫–ª</b> ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ –º–Ω–æ–≥–æ —Ä–∞–∑ –≤–º–µ—Å—Ç–æ —Ç–µ–±—è.</p>

        <h2>FOR ‚Äî ‚Äú—Å—á—ë—Ç—á–∏–∫‚Äù</h2>
        <p>–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ <b>—Ä–æ–≤–Ω–æ N —Ä–∞–∑</b>: 5 —Ä–∞–∑, 10 —Ä–∞–∑ –∏ —Ç.–¥.</p>
        <div class="code-block">for (let i = 1; i <= 5; i++) {
  console.log(i);
}</div>

        <h2>WHILE ‚Äî ‚Äú–ø–æ–∫–∞‚Äù</h2>
        <p>–ö–æ–≥–¥–∞ –ø–æ–≤—Ç–æ—Ä—è–µ–º, <b>–ø–æ–∫–∞ —É—Å–ª–æ–≤–∏–µ –≤–µ—Ä–Ω–æ–µ</b>: ‚Äú–ø–æ–∫–∞ —Å—É–ø –Ω–µ –∑–∞–∫–æ–Ω—á–∏–ª—Å—è‚Äù.</p>
        <div class="code-block">let soup = 3;
while (soup > 0) {
  console.log('–ï–º –ª–æ–∂–∫—É');
  soup--;
}</div>
      </div>

      <!-- QUIZ -->
      <div class="section" v-if="currentSection === 'quiz'">
        <h2>üéØ –¢–µ—Å—Ç (10 –≤–æ–ø—Ä–æ—Å–æ–≤)</h2>
        <p>–°—á—ë—Ç: {{ correctAnswers }} / 10</p>

        <div v-for="(q, index) in questions" :key="index" class="quiz-question">
          <h3>{{ index + 1 }}. {{ q.text }}</h3>
          <div v-if="q.code" class="code-block" v-html="q.code"></div>
          <div>
            <div v-for="opt in q.options"
                 class="quiz-option"
                 :class="getOptionClass(index, opt.id)"
                 @click="checkAnswer(index, opt.id)">
              {{ opt.text }}
            </div>
          </div>
          <div v-if="userAnswers[index]" class="output" :class="userAnswers[index] === q.correct ? '' : 'bad'">
            {{ userAnswers[index] === q.correct ? '‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!' : '‚ùå –û—à–∏–±–∫–∞' }}
          </div>
        </div>
      </div>

      <!-- PRACTICE -->
      <div class="section" v-if="currentSection === 'practice'">
        <h2>üíª –ü—Ä–∞–∫—Ç–∏–∫–∞ (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π)</h2>

        <div class="mini-hint">
          –ü–æ–¥—Å–∫–∞–∑–∫–∞: —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ä–∞–±–æ—Ç–∞–ª–∞, –≤—ã–≤–æ–¥–∏ –æ—Ç–≤–µ—Ç—ã —á–µ—Ä–µ–∑ <code>console.log(...)</code>.
        </div>

        <hr />

        <h3>–ó–∞–¥–∞–Ω–∏–µ 1: –°—á—ë—Ç—á–∏–∫</h3>
        <p>–ù–∞–ø–∏—à–∏ —Ü–∏–∫–ª, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≤–µ–¥–µ—Ç —á–∏—Å–ª–∞ –æ—Ç 1 –¥–æ 5 (–∫–∞–∂–¥–æ–µ ‚Äî —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏).</p>

        <div class="practice-layout">
          <div>
            <p><b>–ü—Ä–∏–º–µ—Ä (—Ç–æ–ª—å–∫–æ —Å–º–æ—Ç—Ä–µ—Ç—å):</b></p>
            <div class="code-block no-copy">// –ü—Ä–∏–º–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ò–î–ï–Æ, –Ω–æ —á–∏—Å–ª–∞ –¥—Ä—É–≥–∏–µ
// –í—ã–≤–æ–¥–∏—Ç: 2 3 4
for (let k = 2; k <= 4; k++) {
  console.log(k);
}</div>
          </div>

          <div>
            <p><b>–¢–≤–æ–π –∫–æ–¥:</b></p>
            <textarea v-model="code1" placeholder="for (let i = 1; i <= 5; i++) {
  console.log(i);
}"></textarea>
            <button class="run-btn" @click="runPractice(code1, 'out1', ['1','2','3','4','5'])">‚ñ∂Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
            <div v-if="out1" class="output" :class="out1Ok ? '' : 'bad'">{{ out1 }}</div>
          </div>
        </div>

        <hr />

        <h3>–ó–∞–¥–∞–Ω–∏–µ 2: While</h3>
        <p>–°–æ–∑–¥–∞–π –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é <code>x = 3</code> –∏ —É–º–µ–Ω—å—à–∞–π –µ—ë, –ø–æ–∫–∞ –æ–Ω–∞ –±–æ–ª—å—à–µ 0. –í—ã–≤–æ–¥–∏ <code>x</code>.</p>

        <div class="practice-layout">
          <div>
            <p><b>–ü—Ä–∏–º–µ—Ä (—Ç–æ–ª—å–∫–æ —Å–º–æ—Ç—Ä–µ—Ç—å):</b></p>
            <div class="code-block no-copy">// –ü—Ä–∏–º–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª–æ–≥–∏–∫—É: —É–º–µ–Ω—å—à–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
let a = 2;
while (a > 0) {
  console.log(a);
  a--;
}</div>
          </div>

          <div>
            <p><b>–¢–≤–æ–π –∫–æ–¥:</b></p>
            <textarea v-model="code2" placeholder="let x = 3;
while (x > 0) {
  console.log(x);
  x--;
}"></textarea>
            <button class="run-btn" @click="runPractice(code2, 'out2', ['3','2','1'])">‚ñ∂Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
            <div v-if="out2" class="output" :class="out2Ok ? '' : 'bad'">{{ out2 }}</div>
          </div>
        </div>
      </div>

      <!-- CREATIVE -> NEW PRACTICAL FUN TASK -->
      <div class="section" v-if="currentSection === 'creative'">
        <h2>üòÑ –°–º–µ—à–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ: –ö–æ—Å–º–∏—á–µ—Å–∫–∏–π —Å–∫–∞–Ω–µ—Ä</h2>
        <p>–°–¥–µ–ª–∞–π —Å–∫–∞–Ω–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –∏–Ω–æ–≥–¥–∞ –ø–∏—â–∏—Ç –≥—Ä–æ–º–∫–æ.</p>

        <div class="mini-hint">
          –ü—Ä–∞–≤–∏–ª–æ: —Ü–∏–∫–ª –æ—Ç 1 –¥–æ 12. –ï—Å–ª–∏ —á–∏—Å–ª–æ –¥–µ–ª–∏—Ç—Å—è –Ω–∞ <code>3</code> –±–µ–∑ –æ—Å—Ç–∞—Ç–∫–∞ ‚Äî –ø–∏—à–∏ <code>–ü–ò–ö!</code>, –∏–Ω–∞—á–µ ‚Äî <code>–±–∏–ø</code>.
        </div>

        <div class="practice-layout" style="margin-top: 12px;">
          <div>
            <p><b>–ü—Ä–∏–º–µ—Ä (—Ç–æ–ª—å–∫–æ —Å–º–æ—Ç—Ä–µ—Ç—å):</b></p>
            <div class="code-block no-copy">// –ü—Ä–∏–º–µ—Ä (—Å –¥—Ä—É–≥–∏–º–∏ —á–∏—Å–ª–∞–º–∏):
// –ü–∏—â–∏—Ç –≥—Ä–æ–º–∫–æ –Ω–∞ –∫—Ä–∞—Ç–Ω—ã—Ö 2
for (let i = 1; i <= 6; i++) {
  if (i % 2 === 0) {
    console.log('–ü–ò–ö!');
  } else {
    console.log('–±–∏–ø');
  }
}</div>
          </div>

          <div>
            <p><b>–¢–≤–æ–π –∫–æ–¥:</b></p>
            <textarea v-model="code3" placeholder="for (let i = 1; i <= 12; i++) {
  // –µ—Å–ª–∏ i % 3 === 0 -> –ü–ò–ö!
  // –∏–Ω–∞—á–µ -> –±–∏–ø
}"></textarea>
            <button class="run-btn" @click="runPractice(code3, 'out3', scannerExpected)">‚ñ∂Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∫–∞–Ω–µ—Ä</button>
            <div v-if="out3" class="output" :class="out3Ok ? '' : 'bad'">{{ out3 }}</div>
          </div>
        </div>
      </div>
      </div>

    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/vue@3/dist/vue.global.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.rings.min.js"></script>

  <script>
    const { createApp } = Vue;

    createApp({
      data() {
        return {
          currentSection: 'theory',
          userAnswers: {},
          correctAnswers: 0,

          code1: '', out1: '', out1Ok: false,
          code2: '', out2: '', out2Ok: false,
          code3: '', out3: '', out3Ok: false,

          scannerExpected: [
            '–±–∏–ø','–±–∏–ø','–ü–ò–ö!','–±–∏–ø','–±–∏–ø','–ü–ò–ö!',
            '–±–∏–ø','–±–∏–ø','–ü–ò–ö!','–±–∏–ø','–±–∏–ø','–ü–ò–ö!'
          ],

          questions: [
            { text: "–ß—Ç–æ –¥–µ–ª–∞–µ—Ç i++?", code: null, correct: 'a', options: [
              {id:'a', text:'–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç i –Ω–∞ 1 (i = i + 1)'},
              {id:'b', text:'–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç i –Ω–∞ 2'},
              {id:'c', text:'–î–µ–ª–∞–µ—Ç i = 0'}
            ]},
            { text: "–ö–∞–∫–æ–π —Ü–∏–∫–ª –Ω—É–∂–µ–Ω, –∫–æ–≥–¥–∞ –ø–æ–≤—Ç–æ—Ä—è–µ–º —Ä–æ–≤–Ω–æ N —Ä–∞–∑?", code: null, correct: 'a', options: [
              {id:'a', text:'for'}, {id:'b', text:'while'}, {id:'c', text:'switch'}
            ]},
            { text: "–ß—Ç–æ –≤—ã–≤–µ–¥–µ—Ç: while(false) { console.log('–ê') }?", code: null, correct: 'c', options: [
              {id:'a', text:'–ê'}, {id:'b', text:'–û—à–∏–±–∫–∞'}, {id:'c', text:'–ù–∏—á–µ–≥–æ'}
            ]},
            { text: "–°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è: for (let i=0; i<3; i++)?", code: null, correct: 'b', options: [
              {id:'a', text:'2 —Ä–∞–∑–∞'}, {id:'b', text:'3 —Ä–∞–∑–∞'}, {id:'c', text:'4 —Ä–∞–∑–∞'}
            ]},
            { text: "–ß—Ç–æ –¥–µ–ª–∞–µ—Ç break?", code: null, correct: 'a', options: [
              {id:'a', text:'–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ü–∏–∫–ª'}, {id:'b', text:'–ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç –æ–¥–∏–Ω —à–∞–≥'}, {id:'c', text:'–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç i'}
            ]},
            { text: "–ß—Ç–æ –≤–µ—Ä–Ω—ë—Ç –≤—ã—Ä–∞–∂–µ–Ω–∏–µ: true && false?", code: null, correct: 'b', options: [
              {id:'a', text:'true'}, {id:'b', text:'false'}, {id:'c', text:'1'}
            ]},
            { text: "–ß—Ç–æ –≤–µ—Ä–Ω—ë—Ç –≤—ã—Ä–∞–∂–µ–Ω–∏–µ: true || false?", code: null, correct: 'a', options: [
              {id:'a', text:'true'}, {id:'b', text:'false'}, {id:'c', text:'0'}
            ]},
            { text: "–ß—Ç–æ —Ç–∞–∫–æ–µ !true?", code: null, correct: 'b', options: [
              {id:'a', text:'true'}, {id:'b', text:'false'}, {id:'c', text:'null'}
            ]},
            { text: "–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ (—Å–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è‚Ä¶)", code: null, correct: 'a', options: [
              {id:'a', text:'! –ø–æ—Ç–æ–º && –ø–æ—Ç–æ–º ||'},
              {id:'b', text:'|| –ø–æ—Ç–æ–º && –ø–æ—Ç–æ–º !'},
              {id:'c', text:'–≤—Å–µ–≥–¥–∞ —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ'}
            ]},
            { text: "–°–∫–æ–ª—å–∫–æ –∑–≤—ë–∑–¥ –≤—ã–≤–µ–¥–µ—Ç: for(i=0;i<2;i++) for(j=0;j<2;j++) console.log('*') ?", code: null, correct: 'b', options: [
              {id:'a', text:'2'}, {id:'b', text:'4'}, {id:'c', text:'8'}
            ]},
          ]
        }
      },
      methods: {
        setSection(section) {
          this.currentSection = section;
          window.scrollTo(0, 0);
        },

        checkAnswer(qIndex, ansId) {
          if (this.userAnswers[qIndex]) return;
          this.userAnswers[qIndex] = ansId;
          if (ansId === this.questions[qIndex].correct) this.correctAnswers++;
        },

        getOptionClass(qIndex, optId) {
          if (!this.userAnswers[qIndex]) return '';
          if (optId === this.questions[qIndex].correct) return 'correct';
          if (optId === this.userAnswers[qIndex]) return 'wrong';
          return '';
        },

        runPractice(code, outVar, expectedLines) {
          const logs = [];
          const tempLog = console.log;
          console.log = (...args) => logs.push(args.join(' '));

          const setOk = (ok) => {
            if (outVar === 'out1') this.out1Ok = ok;
            if (outVar === 'out2') this.out2Ok = ok;
            if (outVar === 'out3') this.out3Ok = ok;
          };

          const asTokens = (arr) => {
            const raw = Array.isArray(arr) ? arr.join('\n') : String(arr);
            return raw
              .split(/\s+/)
              .map(s => String(s).trim())
              .filter(Boolean);
          };

          try {
            eval(code);

            const gotLines = logs.map(s => String(s).trim()).filter(Boolean);
            const gotTokens = asTokens(gotLines);
            const expTokens = asTokens(expectedLines);

            const ok = gotTokens.length === expTokens.length &&
                       gotTokens.every((v, i) => v === expTokens[i]);

            setOk(ok);

            if (ok) {
              this[outVar] = `‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!\n\n–¢–≤–æ–π –≤—ã–≤–æ–¥:\n${gotLines.join('\n')}`;
            } else {
              this[outVar] =
                `‚ùå –ü–æ–∫–∞ –Ω–µ —Ç–∞–∫.\n\n–ù—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å:\n${expectedLines.join('\n')}\n\n–ê —É —Ç–µ–±—è –ø–æ–ª—É—á–∏–ª–æ—Å—å:\n${gotLines.join('\n') || '(–Ω–∏—á–µ–≥–æ ‚Äî –¥–æ–±–∞–≤—å console.log)'}`;
            }

          } catch (e) {
            setOk(false);

            const msg = String(e && (e.message || e) || '–û—à–∏–±–∫–∞');
            let hint = "";

            if (msg.includes("Unexpected token ';'")) {
              hint = "\n\n–ü–æ–¥—Å–∫–∞–∑–∫–∞: –ø–æ—Å–ª–µ < –∏–ª–∏ <= –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —á–∏—Å–ª–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä i <= 5).";
            } else if (msg.includes("Unexpected identifier")) {
              hint = "\n\n–ü–æ–¥—Å–∫–∞–∑–∫–∞: —Å—Ç—Ä–æ–∫–∏ –ø–∏—à–µ–º –≤ –∫–∞–≤—ã—á–∫–∞—Ö, –∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ‚Äî –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤.";
            } else if (msg.includes("is not defined")) {
              hint = "\n\n–ü–æ–¥—Å–∫–∞–∑–∫–∞: –ø—Ä–æ–≤–µ—Ä—å –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏ —á—Ç–æ —Ç—ã –µ—ë –æ–±—ä—è–≤–∏–ª: let x = ...";
            }

            this[outVar] = "–û—à–∏–±–∫–∞: " + msg + hint;
          } finally {
            console.log = tempLog;
          }
        }
      },
      mounted() {
        try {
          VANTA.RINGS({
            el: "#vanta-background",
            mouseControls: true,
            touchControls: true,
            gyroControls: false,
            minHeight: 200.00,
            minWidth: 200.00,
            backgroundColor: 0x000000,
            color: 0xff00ff,
            color2: 0x00e5ff
          });
        } catch (e) {}
      }
    }).mount('#app');
  </script>
</body>
</html>